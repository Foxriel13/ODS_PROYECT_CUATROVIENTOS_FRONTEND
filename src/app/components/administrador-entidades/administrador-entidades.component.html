<div class="row g-3 p-4">
  <app-nav-bar-modificar-entidades (tabChange)="onTabChange($event)"></app-nav-bar-modificar-entidades>
</div>
<div class="container">
  <div class="d-flex justify-content-between align-items-center">
    <input type="text" class="form-control w-75" placeholder="Buscar..." [(ngModel)]="busqueda"
      (ngModelChange)="onBusquedaChange()" />
    <button class="btn btn-info btn-sm" (click)="irANuevaPagina()">+ Nuevo</button>
  </div>
</div>

<div *ngIf="selectedTab === 'actividades'">
  <div class="container py-4">
    <h4 class="mb-4 fw-bold text-dark">Lista de Actividades</h4>
    <div class="activity-grid">
      <div *ngFor="let item of ActividadesList" class="activity-card">
        <div class="text-primary fw-semibold">{{ item.nombre }}</div>
        <div class="d-flex justify-content-end gap-2">
          <i class="bi bi-pencil fs-5 action-icon" (click)="actualizar(item)" title="Actualizar"></i>
          <i class="bi bi-trash fs-5 action-icon text-danger" (click)="eliminar(item)" title="Eliminar"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="selectedTab === 'metas'">
  <div class="container py-4">
    <div class="mb-3">
      <select class="form-control" [(ngModel)]="selectedOds" (ngModelChange)="filtrarMetasPorOds()">
        <option value="">Seleccionar ODS</option>
        <option *ngFor="let ods of odsListDistinct" [value]="ods.idOds">{{ ods.nombre }}</option>
      </select>
    </div>
    <div class="activity-grid">
      <div *ngFor="let item of MetasList" class="activity-card">
        <div class="text-primary fw-semibold">{{ item.descripcion }}</div>
        <div class="d-flex justify-content-end gap-2">
          <i class="bi bi-pencil fs-5 action-icon" (click)="actualizar(item)" title="Actualizar"></i>
          <i class="bi bi-trash fs-5 action-icon text-danger" (click)="eliminar(item)" title="Eliminar"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="selectedTab === 'modulos'">
  <div class="container py-4">
    <div class="mb-3 text-center">
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-outline-primary" [class.active]="selectedModuloTab === 'modulos'"
          (click)="selectedModuloTab = 'modulos'">
          MÃ³dulos
        </button>
        <button type="button" class="btn btn-outline-primary" [class.active]="selectedModuloTab === 'clases'"
          (click)="selectedModuloTab = 'clases'">
          Clases
        </button>
      </div>
    </div>
    <div class="activity-grid">
      <div *ngFor="let item of selectedModuloTab === 'modulos' ? ModulosList : ClasesList" class="activity-card">
        <div class="text-primary fw-semibold">{{ item.nombre }}</div>
        <div class="d-flex justify-content-end gap-2">
          <i class="bi bi-pencil fs-5 action-icon" (click)="actualizar(item)" title="Actualizar"></i>
          <i class="bi bi-trash fs-5 action-icon text-danger" (click)="eliminar(item)" title="Eliminar"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="selectedTab === 'profesores'">
  <div class="container py-4">
    <div class="activity-grid">
      <div *ngFor="let item of ProfesoresList" class="activity-card">
        <div class="text-primary fw-semibold">{{ item.nombre }}</div>
        <div class="d-flex justify-content-end gap-2">
          <i class="bi bi-pencil fs-5 action-icon" (click)="actualizar(item)" title="Actualizar"></i>
          <i class="bi bi-trash fs-5 action-icon text-danger" (click)="eliminar(item)" title="Eliminar"></i>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="selectedTab === 'entidades'">
  <div class="container py-4">
    <div class="activity-grid">
      <div *ngFor="let item of entidadesList" class="activity-card">
        <div class="text-primary fw-semibold">{{ item.nombre }}</div>
        <div class="d-flex justify-content-end gap-2">
          <i class="bi bi-pencil fs-5 action-icon" (click)="actualizar(item)" title="Actualizar"></i>
          <i class="bi bi-trash fs-5 action-icon text-danger" (click)="eliminar(item)" title="Eliminar"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="selectedTab === 'redes'">
  <div class="container py-4">
    <div class="mb-3">
      <select class="form-control" [(ngModel)]="selectedRed" (ngModelChange)="filtrarRedesPorNombre()">
        <option value="">Todas las redes</option>
        <option *ngFor="let red of redesListDistinct" [value]="red">{{ red }}</option>
      </select>
    </div>
    <div class="activity-grid">
      <div *ngFor="let item of redes_socialesList" class="activity-card">
        <div class="text-primary fw-semibold">{{ item.enlace }}</div>
        <div class="text-muted small">{{ item.nombre }}</div>
        <div class="d-flex justify-content-end gap-2 mt-2">
          <i class="bi bi-pencil fs-5 action-icon" (click)="actualizar(item)" title="Actualizar"></i>
          <i class="bi bi-trash fs-5 action-icon text-danger" (click)="eliminar(item)" title="Eliminar"></i>
        </div>
      </div>
    </div>
  </div>
</div>